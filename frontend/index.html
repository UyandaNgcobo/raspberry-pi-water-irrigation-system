<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🌱 Smart Irrigation System</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <h1>🌱 Smart Water Irrigation System</h1>
            <div class="status-bar">
                <span id="connection-status" class="status connected">● Connected</span>
                <span id="last-update">Last update: Never</span>
            </div>
        </header>

        <!-- Main Dashboard -->
        <main class="dashboard">
            <!-- Current Readings -->
            <section class="sensors-grid">
                <div class="sensor-card temperature">
                    <div class="sensor-icon">🌡️</div>
                    <div class="sensor-info">
                        <h3>Temperature</h3>
                        <div class="sensor-value" id="temperature">--°C</div>
                        <div class="sensor-status" id="temp-status">Loading...</div>
                    </div>
                </div>

                <div class="sensor-card humidity">
                    <div class="sensor-icon">💧</div>
                    <div class="sensor-info">
                        <h3>Humidity</h3>
                        <div class="sensor-value" id="humidity">--%</div>
                        <div class="sensor-status" id="humidity-status">Loading...</div>
                    </div>
                </div>

                <div class="sensor-card soil">
                    <div class="sensor-icon">🌱</div>
                    <div class="sensor-info">
                        <h3>Soil Moisture</h3>
                        <div class="sensor-value" id="soil-moisture">--%</div>
                        <div class="sensor-status" id="soil-status">Loading...</div>
                    </div>
                </div>

                <div class="sensor-card system">
                    <div class="sensor-icon">⚙️</div>
                    <div class="sensor-info">
                        <h3>Plant Health</h3>
                        <div class="sensor-value" id="comfort-score">--%</div>
                        <div class="sensor-status" id="system-status">Loading...</div>
                    </div>
                </div>
            </section>

            <!-- Control Panel -->
            <section class="control-panel">
                <h2>🎛️ Control Panel</h2>
                <div class="controls">
                    <div class="pump-control">
                        <h3>Water Pump</h3>
                        <div class="pump-status" id="pump-status">
                            <span class="pump-indicator off" id="pump-indicator">●</span>
                            <span id="pump-text">OFF</span>
                        </div>
                        <button id="manual-water-btn" class="water-btn">💧 Water Plant</button>
                    </div>
                    
                    <div class="servo-control">
                        <h3>Moisture Indicator</h3>
                        <div class="servo-display">
                            <div class="servo-gauge">
                                <div class="servo-pointer" id="servo-pointer" style="transform: rotate(0deg);"></div>
                                <div class="servo-labels">
                                    <span class="dry">DRY</span>
                                    <span class="ok">OK</span>
                                    <span class="wet">WET</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Charts -->
            <section class="charts">
                <h2>📈 Sensor History</h2>
                <div class="chart-container">
                    <canvas id="sensorChart"></canvas>
                </div>
            </section>

            <!-- System Messages -->
            <section class="messages">
                <h2>📝 System Log</h2>
                <div class="log-container" id="system-log">
                    <div class="log-entry">
                        <span class="log-time">Starting up...</span>
                        <span class="log-message">System initialization</span>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <script src="script.js"></script>
</body>
</html>